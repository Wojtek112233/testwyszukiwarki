<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data from Google Sheet</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://apis.google.com/js/api.js"></script>
    <script>
    $(document).ready(function() {
    $.getJSON('google-credentials.json', function(credentials) {
       
       console.log('client_id:', credentials.client_id);
        gapi.load('client:auth2', function() {
            initClient(credentials);
        });
    });
});

    function initClient(credentials) {
        gapi.client.init({
            apiKey: credentials.apiKey,
            discoveryDocs: ["https://sheets.googleapis.com/$discovery/rest?version=v4"],
            client_id: credentials.client_id,
            scope: 'https://www.googleapis.com/auth/spreadsheets.readonly'
        }).then(function () {
            gapi.auth2.getAuthInstance().signIn().then(fetchData);
        });
    }

    function fetchData() {
        gapi.client.sheets.spreadsheets.values.get({
            spreadsheetId: '1hAW7oSlCc4ZP5YP5NptH7QB_13qrIFVIw5iUNKhbcew',
            range: 'Arkusz1!A1'
        }).then(function(response) {
            var value = response.result.values[0][0];
            $('#data').text(value);
        }, function(response) {
            console.error('Error fetching data:', response.result.error.message);
        });
    }
    </script>
</head>
<body>
    <h1>Data from Google Sheet</h1>
    <p id="data"></p>
</body>
</html>
